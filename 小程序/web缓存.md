# web缓存

* https://segmentfault.com/a/1190000006741200

* 应用缓存的地方
    > 浏览器缓存
    > 页面缓存
    > 服务器缓存(CDN缓存)
    > 数据库缓存

* 缓存的作用：
    > 加快页面的打开速度
    > 减少网络宽带消耗
    > 降低服务器压力

* 浏览器缓存机制详解
    * 缓存类型(强缓存与协商缓存区别:强缓存不发请求到服务器，协商缓存会发请求到服务器。)
        >强缓存：浏览器在加载资源时，先根据这个资源的一些http header判断它是否命中强缓存，强缓存如果命中，浏览器直接从自己的缓存中读取资源，不会发请求到服务器。比如某个css文件，如果浏览器在加载它所在的网页时，这个css文件的缓存配置命中了强缓存，浏览器就直接从缓存中加载这个css，连请求都不会发送到网页所在服务器；
        >协商缓存：当强缓存没有命中的时候，浏览器一定会发送一个请求到服务器，通过服务器端依据资源的另外一些http header验证这个资源是否命中协商缓存，如果协商缓存命中，服务器会将这个请求返回（304），但是不会返回这个资源的数据，而是告诉客户端可以直接从缓存中加载这个资源，于是浏览器就又会从自己的缓存中去加载这个资源；若未命中请求，则将资源返回客户端，并更新本地缓存数据（200）。

    * 如何设置缓存
        >1.HTML Meta标签控制缓存（非HTTP协议定义）
            <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
            上述代码的作用是告诉浏览器当前页面不被缓存，每次访问都需要去服务器拉取。这种方法使用上很简单，但只有部分浏览器可以支持，而且所有缓存代理服务器都不支持，因为代理不解析HTML内容本身。

        2.HTTP头信息控制缓存
            HTTP头信息控制缓存是通过Expires（强缓存）、Cache-control（强缓存）、Last-Modified/If-Modified-Since（协商缓存）、Etag/If-None-Match（协商缓存）实现，下面详细介绍。







